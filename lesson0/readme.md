# Введение в тестирование API

**Перед прохождением данного урока необходимо знать ответы на следующие вопросы:**

1. Объясните разницу между HTTP и HTTPS.
2. Назовите основные HTTP-методы и их предназначение.
3. Опишите структуру HTTP-запроса.
4. Что такое HTTP-заголовки? Приведите примеры.
5. Объясните назначение и использование статус-кодов HTTP.
6. Что такое кэширование в HTTP и как оно работает?
7. Что такое куки? 
8. Что такое Rest API?
9. Что такое RESTful API?
10. Что такое CORS и почему важно учитывать его в HTTP-запросах?
11. Объясните концепцию keep-alive в HTTP
12. Что такое Basic Authentication?
13. Объясните использование HTTP-заголовка "User-Agent".
14. Что такое HTTP-заголовок "Referer" и как он используется?
15. Что такое HEAD-запрос и когда его использовать?
16. Что такое индемпотентность? 
17. В чем заключается разница между GET и POST? 
18. Что такое IP? 
19. Что такое домен? 
20. Что такое порт? 
21. Что такое Chrome Devtools? 

Если не смогли ответить на все вопросы необходимо ознакомиться с данными материалами: 
1. <https://developer.mozilla.org/ru/docs/Web/HTTP>
2. <https://yandex.cloud/ru/docs/glossary/cdn>
3. <https://www.youtube.com/watch?v=A8t5LSxVJFM> 

Так же полезно, но не обязательно, на данный момент ознакомиться: 
1. Пирамида тестирования | <https://martinfowler.com/articles/practical-test-pyramid.html>

**Требования к API "фреймворку":** 
1. Отправка запросов 
2. Логгирование в терминал и Allure отчет 
3. Поддержка аутентификации 
4. Полная валидация данных ответа [Статус код, Тело ответа и так далее]
5. Человекочитаемый код "Фреймворка" для тестирования. 
6. Подготовка тестовых данных
Позже будет дополнено. 


В lesson0 реализована отправка запросов, в некоторой степени подготовка тестовых данных (API очень простой и нет возможности столкнуться с реальными проблемами), частичная валидация ответа. 


### Инструменты для написания API тестов на Python

1. **HTTP-клиенты**:
   - **requests** или **httpx**: основные библиотеки для отправки HTTP-запросов. Также можно использовать другие клиенты, которые позволяют удобно работать с HTTP.
   Так как requests напрямую непредназначен для тестирования обычно пишутся небольшие кастомные обертки 

2. **Логирование и отладка**:
   - **logging** и **loguru**: для логгирования отправляемых, получаемых данных и ошибок.
   - **allure** (сервер и плагин allure-pytest): для создания отчетов о тестах.
   - **curlify**: преобразует запросы в формат cURL для быстрого воспроизведения и отладки.

3. **Сравнение данных**:
   - **Deepdiff**: для более удобного сравнения JSON-структур.

4. **Дополнительные клиенты**:
   - Поддержка интеграции с **redis**, **kafka**, **sqlalchemy** для работы с различными системами данных.

5. **Валидация и генерация данных**:
   - **Pydantic**: для генерации и валидации JSON из Python-моделей.
   - **jsonschema**: для работы с JSON-схемами.

6. **Переменные окружения**:
   - **python-dotenv** и **os**, или **pydantic-settings**: для работы с переменными окружения.

7. **Без этого никак**:
   - **pytest** и различные плагины для написания и выполнения тестов. Могут писаться кастомные assertions или использоваться готовые библиотеки для сравнения. 


### Дополнительные инструменты (не связанные напрямую с Python)

1. **Системы CI/CD**:
   - **GitLab CI**, **GitHub Actions**, **Azure Pipeline** и другие для автоматизации процессов CI/CD.

2. **Контейнеризация**:
   - **Docker**: для создания и управления контейнерами, обеспечивая изолированную среду для выполнения тестов.

**Так же проект может дополняться дополнительными бибилотеками необходимыми для проекта** 